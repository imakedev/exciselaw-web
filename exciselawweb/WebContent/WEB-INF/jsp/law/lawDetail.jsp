<%@ page contentType="text/html; charset=utf-8" %><%@ include file="/WEB-INF/jsp/includes.jsp" %><html><head><title></title><link href="<%=request.getContextPath() %>/css/style.css" rel="stylesheet" type="text/css"></link>	<link rel="stylesheet" href="<%=request.getContextPath() %>/css/redmond/jquery-ui-1.8.16.custom.css" type="text/css"><script type="text/javascript" language="javascript" src="<%=request.getContextPath() %>/js/jquery-1.7.1.min.js"></script><script type="text/javascript" language="javascript" src="<%=request.getContextPath() %>/js/jquery-ui-1.8.16.custom.min.js"></script><%--<script type="text/javascript" language="javascript" src="/media/js/jquery.js"></script> --%><script type="text/javascript" language="javascript" src="<%=request.getContextPath() %>/media/js/jquery.dataTables.js"></script><script type="text/javascript" src='<%=request.getContextPath() %>/dwr/interface/LawAjax.js'></script><script type="text/javascript" src='<%=request.getContextPath() %>/dwr/interface/LinkExciseLawAjax.js'></script><script type="text/javascript" src='<%=request.getContextPath() %>/dwr/engine.js'></script><script type="text/javascript" src='<%=request.getContextPath() %>/dwr/util.js'></script><script language="JavaScript" type="text/JavaScript"> var state = 'none'; var _path='<%=request.getContextPath()%>';function popupwnd(url, toolbar, menubar, locationbar, resize, scrollbars, statusbar, left, top, width, height){   var popupwindow = this.open(url, '', 'toolbar=' + toolbar + ',menubar=' + menubar + ',location=' + locationbar + ',scrollbars=' + scrollbars + ',resizable=' + resize + ',status=' + statusbar + ',left=' + left + ',top=' + top + ',width=' + width + ',height=' + height);}function getlawTypeList(){	if (state == 'block') {		state = 'none';		document.getElementById("mainLaw").src='<%=request.getContextPath() %>/images/main_c.png';	}else {		state = 'block';		document.getElementById('mainLaw').src="<%=request.getContextPath() %>/images/main_o.png";	} 	for(var i=1;i<=12;i++){		var subId = "lawTypeList"+i;		document.getElementById(subId).style.display=state;	}}var oTable;$(document).ready(function() {	oTable = $('#example').dataTable( {		"bPaginate": false,		"bLengthChange": false,		"bFilter": false,		"bSort": false,		"bInfo": false,		"bAutoWidth": false 	} );	});function renderingTable(oTable, nTr){	var statueId = document.getElementById("statueId").value;	var aData = oTable.fnGetData( nTr );	var sOut = "";	if(aData[0] == 2){		LawAjax.getTsArticleCompletedList(statueId, {			callback:function(dataFromServer){	        if(dataFromServer!=null && dataFromServer.length>0){ 	        	sOut = "<table cellspacing=\"0\" border=\"0\" width=\"100%\">";				var articleCompletedList=dataFromServer; 				 	for(var i=0;i<articleCompletedList.length;i++){						sOut +=	"<tr><td width=\"4%\">&nbsp;</td><td width=\"4%\">&nbsp;</td>";						sOut += "<td width=\"83%\" align=\"left\" class=\"detail-right\">"+articleCompletedList[i].articleCompletedNumber+"</td>";					//	sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"popupwnd('"+_path+"/stStatusSubPopup_G.jsp?id="+articleCompletedList[i].articleCompletedId+"','no','no','no','yes','yes','no','300','70','800','440');\"><img  border=\"0\" src=\"../images/IE9-Logo.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\" onclick=\"alert('link to pdf')\"><img  border=\"0\" src=\"../images/IE9-Logo.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"alert('"+articleCompletedList[i].articleCompletedId+"')\"><img  border=\"0\" src=\"../images/pdf.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"alert('"+articleCompletedList[i].articleCompletedId+"')\"><img  border=\"0\" src=\"../images/acdsee.gif\"/></span></td>";						sOut += "</tr>";				 	}		    		sOut += "</table>";				}				oTable.fnOpen( nTr, sOut, 'details' );			}		});	}	if(aData[0] == 0){		LawAjax.getTsArticleList(statueId, aData[1], {			callback:function(dataFromServer){	        if(dataFromServer!=null && dataFromServer.length>0){ 	        	sOut = "<table cellspacing=\"0\" border=\"0\" width=\"100%\">";				var articleList=dataFromServer; 				 	for(var i=0;i<articleList.length;i++){ 				 		//statue_id, law_type_id, article_header_id				 		var id=articleList[i].statueId+"_"+articleList[i].lawTypeId+"_"+articleList[i].articleHeaderId;						sOut +=	"<tr><td width=\"4%\">&nbsp;</td><td width=\"4%\">&nbsp;</td>";						sOut += "<td width=\"83%\" align=\"left\" class=\"detail-right\">"+articleList[i].articleNumber+"</td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"popupwnd('"+_path+"/showlink.jsp?id="+id+"&table=group','no','no','no','yes','yes','no','300','70','800','440');\"><img  border=\"0\" src=\"../images/IE9-Logo.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"alert('"+articleList[i].articleId+"')\"><img  border=\"0\" src=\"../images/pdf.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"alert('"+articleList[i].articleId+"')\"><img  border=\"0\" src=\"../images/acdsee.gif\"/></span></td>";						sOut += "</tr>";				 	}		    		sOut += "</table>";				}				oTable.fnOpen( nTr, sOut, 'details' );			}		});	}	else if(aData[0] == 1){		LawAjax.getTsLawList(statueId, aData[1], {			callback:function(dataFromServer){	        if(dataFromServer!=null && dataFromServer.length>0){ 	        	sOut = "<table cellspacing=\"0\" border=\"0\" width=\"100%\">";				var lawList=dataFromServer; 				 	for(var i=0;i<lawList.length;i++){						sOut +=	"<tr><td width=\"4%\">&nbsp;</td><td width=\"4%\">&nbsp;</td>";						sOut += "<td width=\"83%\" align=\"left\" class=\"detail-right\">"+lawList[i].lawTitleThaiDisplay+"</td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"popupwnd('"+_path+"/showlink.jsp?id="+lawList[i].lawId+"&table=ts_law','no','no','no','yes','yes','no','300','70','800','440');\"><img  border=\"0\" src=\"../images/IE9-Logo.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"alert('"+lawList[i].lawId+"')\"><img  border=\"0\" src=\"../images/pdf.gif\"/></span></td>";						sOut += "<td width=\"3%\"><span style=\"cursor: pointer, align: center;\" title=\"ดูรายละเอียดข้อมูล\"  onclick=\"alert('"+lawList[i].lawId+"')\"><img  border=\"0\" src=\"../images/acdsee.gif\"/></span></td>";						sOut += "</tr>";				 	}		    		sOut += "</table>";				}				oTable.fnOpen( nTr, sOut, 'details' );			}		});	}}$('#example tbody td img').live('click', function () {	var nTr = this.parentNode.parentNode;	if ( this.src.match('open') )	{		/* This row is already open - close it */		this.src = '../images/closed.png';		oTable.fnClose( nTr );	}	else if ( this.src.match('closed') )	{		/* Open this row */		this.src = '../images/open.png';		renderingTable(oTable, nTr);		// oTable.fnOpen( nTr, fnFormatDetails(oTable, nTr), 'details' );	}} );</script></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"><spring:url value="/law/lawDisplay.do" var="formAction"></spring:url><form:form modelAttribute="lawForm" id="form1" method="post" action="${fn:escapeXml(formAction)}"> <form:hidden path="action" id="action"/> <input type="hidden" id="statueId" value="${statueId}"/><table width="100%" border="0" cellpadding="0" cellspacing="2" class="detail" id="example">	<thead>		<tr id="lawTypeList">	   		<td style="display: none"></td>	   		<td style="display: none"></td>			<td align="center"><img id="mainLaw" src="../images/main_c.png" onclick="getlawTypeList()"></td>			<td align="left" class="detail-right">&nbsp;<c:out value="${statueName}"/> </td> 		</tr>	</thead>	<tbody>		<c:forEach items="${lawTypeList}" var="lawType" varStatus="rowCounter">  		   	<tr id="lawTypeList${rowCounter.count}" style="display: none">		   		<td style="display: none">${lawType.lawTypePriority}</td>		   		<td style="display: none">${lawType.lawTypeId}</td>				<td align="center"><img src="../images/closed.png" id="close${lawType.lawTypeId}" ></td>				<td align="left" class="detail-right">&nbsp;&nbsp;&nbsp;${lawType.lawTypeName}</td>			</tr>		</c:forEach>		</tbody></table></form:form></body></html>